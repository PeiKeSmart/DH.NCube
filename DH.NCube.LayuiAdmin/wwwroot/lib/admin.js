/** layuiAdmin.std-v1.2.0 LPPL License By http://www.layui.com/admin/ */
 ;layui.define("view",function(e){var a,d=layui.jquery,s=layui.laytpl,i=layui.element,r=layui.setter,t=layui.view,n=layui.device(),l=d(window),o=d("body"),u=d("#"+r.container),c="layui-show",y="layui-this",m="layui-disabled",f="#LAY_app_body",h="LAY_app_flexible",p="layadmin-layout-tabs",v="layadmin-side-spread-sm",b="layadmin-tabsbody-item",g="layui-icon-shrink-right",x="layui-icon-spread-left",C="layadmin-side-shrink",k={v:"1.2.0 std",req:t.req,sendAuthCode:function(t){var a,n=(t=d.extend({seconds:60,elemPhone:"#LAY_phone",elemVercode:"#LAY_vercode"},t)).seconds,i=d(t.elem),l=function(e){--n<0?(i.removeClass(m).html("获取验证码"),n=t.seconds,clearInterval(a)):i.addClass(m).html(n+"秒后重获"),e||(a=setInterval(function(){l(!0)},1e3))};t.elemPhone=d(t.elemPhone),t.elemVercode=d(t.elemVercode),i.on("click",function(){var e=t.elemPhone,a=e.val();if(n===t.seconds&&!d(this).hasClass(m)){if(!/^1\d{10}$/.test(a))return e.focus(),layer.msg("请输入正确的手机号");if("object"==typeof t.ajax){var i=t.ajax.success;delete t.ajax.success}k.req(d.extend(!0,{url:"/auth/code",type:"get",data:{phone:a},success:function(e){layer.msg("验证码已发送至你的手机，请注意查收",{icon:1,shade:0}),t.elemVercode.focus(),l(),i&&i(e)}},t.ajax))}})},screen:function(){var e=l.width();return 1200<=e?3:992<=e?2:768<=e?1:0},exit:t.exit,sideFlexible:function(e){var a=u,i=d("#"+h),t=k.screen();"spread"===e?(i.removeClass(x).addClass(g),t<2?a.addClass(v):a.removeClass(v),a.removeClass(C)):(i.removeClass(g).addClass(x),t<2?a.removeClass(C):a.addClass(C),a.removeClass(v)),layui.event.call(this,r.MOD_NAME,"side({*})",{status:e})},escape:function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},on:function(e,a){return layui.onevent.call(this,r.MOD_NAME,e,a)},popup:t.popup,popupRight:function(e){return k.popup.index=layer.open(d.extend({type:1,id:"LAY_adminPopupR",anim:-1,title:!1,closeBtn:!1,offset:"r",shade:.1,shadeClose:!0,skin:"layui-anim layui-anim-rl layui-layer-adminRight",area:"300px"},e))},theme:function(e){r.theme;var i=layui.data(r.tableName),a="LAY_layadmin_theme",t=document.createElement("style"),n=s([".layui-side-menu,",".layadmin-pagetabs .layui-tab-title li:after,",".layadmin-pagetabs .layui-tab-title li.layui-this:after,",".layui-layer-admin .layui-layer-title,",".layadmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-item>.layui-nav-child","{background-color:{{d.color.main}} !important;}",".layui-nav-tree .layui-this,",".layui-nav-tree .layui-this>a,",".layui-nav-tree .layui-nav-child dd.layui-this,",".layui-nav-tree .layui-nav-child dd.layui-this a","{background-color:{{d.color.selected}} !important;}",".layui-layout-admin .layui-logo{background-color:{{d.color.logo || d.color.main}} !important;}","{{# if(d.color.header){ }}",".layui-layout-admin .layui-header{background-color:{{ d.color.header }};}",".layui-layout-admin .layui-header a,",".layui-layout-admin .layui-header a cite{color: #f8f8f8;}",".layui-layout-admin .layui-header a:hover{color: #fff;}",".layui-layout-admin .layui-header .layui-nav .layui-nav-more{border-top-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-nav-mored{border-color: transparent; border-bottom-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-this:after, .layui-layout-admin .layui-header .layui-nav-bar{background-color: #fff; background-color: rgba(255,255,255,.5);}",".layadmin-pagetabs .layui-tab-title li:after{display: none;}","{{# } }}"].join("")).render(e=d.extend({},i.theme,e)),l=document.getElementById(a);"styleSheet"in t?(t.setAttribute("type","text/css"),t.styleSheet.cssText=n):t.innerHTML=n,t.id=a,l&&o[0].removeChild(l),o[0].appendChild(t),o.attr("layadmin-themealias",e.color.alias),i.theme=i.theme||{},layui.each(e,function(e,a){i.theme[e]=a}),layui.data(r.tableName,{key:"theme",value:i.theme})},initTheme:function(e){var a=r.theme;e=e||0,a.color[e]&&(a.color[e].index=e,k.theme({color:a.color[e]}))},tabsPage:{},tabsBody:function(e){return d(f).find("."+b).eq(e||0)},tabsBodyChange:function(e,a){a=a||{},k.tabsBody(e).addClass(c).siblings().removeClass(c),P.rollPage("auto",e),layui.event.call(this,r.MOD_NAME,"tabsPage({*})",{url:a.url,text:a.text})},resize:function(e){var a=layui.router().path.join("-");l.off("resize",k.resizeFn[a]),e(),k.resizeFn[a]=e,l.on("resize",k.resizeFn[a])},resizeFn:{},runResize:function(){var e=layui.router().path.join("-");k.resizeFn[e]&&k.resizeFn[e]()},delResize:function(){var e=layui.router().path.join("-");l.off("resize",k.resizeFn[e]),delete k.resizeFn[e]},closeThisTabs:function(){k.tabsPage.index&&d(A).eq(k.tabsPage.index).find(".layui-tab-close").trigger("click")},fullScreen:function(){var e=document.documentElement,a=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;void 0!==a&&a&&a.call(e)},exitScreen:function(){document.documentElement;document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},P=k.events={flexible:function(e){var a=e.find("#"+h).hasClass(x);k.sideFlexible(a?"spread":null)},refresh:function(){var e=d("."+b).length;k.tabsPage.index>=e&&(k.tabsPage.index=e-1),k.tabsBody(k.tabsPage.index).find(".layadmin-iframe")[0].contentWindow.location.reload(!0)},serach:function(t){t.off("keypress").on("keypress",function(e){if(this.value.replace(/\s/g,"")&&13===e.keyCode){var a=t.attr("lay-action"),i=t.attr("lay-text")||"搜索";a+=this.value,i=i+' <span style="color: #FF5722;">'+k.escape(this.value)+"</span>",layui.index.openTabsPage(a,i),P.serach.keys||(P.serach.keys={}),P.serach.keys[k.tabsPage.index]=this.value,this.value===P.serach.keys[k.tabsPage.index]&&P.refresh(t),this.value=""}})},message:function(e){e.find(".layui-badge-dot").remove()},theme:function(){k.popupRight({id:"LAY_adminPopupTheme",success:function(){t(this.id).render("system/theme")}})},note:function(e){var a=k.screen()<2,n=layui.data(r.tableName).note;P.note.index=k.popup({title:"便签",shade:0,offset:["41px",a?null:e.offset().left-250+"px"],anim:-1,id:"LAY_adminNote",skin:"layadmin-note layui-anim layui-anim-upbit",content:'<textarea placeholder="内容"></textarea>',resize:!1,success:function(e,a){var i=e.find("textarea"),t=void 0===n?"便签中的内容会存储在本地，这样即便你关掉了浏览器，在下次打开时，依然会读取到上一次的记录。是个非常小巧实用的本地备忘录":n;i.val(t).focus().on("keyup",function(){layui.data(r.tableName,{key:"note",value:this.value})})}})},fullscreen:function(e){var a="layui-icon-screen-full",i="layui-icon-screen-restore",t=e.children("i");t.hasClass(a)?(k.fullScreen(),t.addClass(i).removeClass(a)):(k.exitScreen(),t.addClass(a).removeClass(i))},about:function(){k.popupRight({id:"LAY_adminPopupAbout",success:function(){t(this.id).render("system/about")}})},more:function(){k.popupRight({id:"LAY_adminPopupMore",success:function(){t(this.id).render("system/more")}})},back:function(){history.back()},setTheme:function(e){var a=e.data("index");e.siblings(".layui-this").data("index");e.hasClass(y)||(e.addClass(y).siblings(".layui-this").removeClass(y),k.initTheme(a))},rollPage:function(e,i){var n=d("#LAY_app_tabsheader"),l=n.children("li"),s=(n.prop("scrollWidth"),n.outerWidth()),r=parseFloat(n.css("left"));if("left"===e){if(!r&&r<=0)return;var t=-r-s;l.each(function(e,a){var i=d(a).position().left;if(t<=i)return n.css("left",-i),!1})}else"auto"===e?function(){var e,a=l.eq(i);if(a[0]){if((e=a.position().left)<-r)return n.css("left",-e);if(e+a.outerWidth()>=s-r){var t=e+a.outerWidth()-(s-r);l.each(function(e,a){var i=d(a).position().left;if(0<i+r&&t<i-r)return n.css("left",-i),!1})}}}():l.each(function(e,a){var i=d(a),t=i.position().left;if(t+i.outerWidth()>=s-r)return n.css("left",-t),!1})},leftPage:function(){P.rollPage("left")},rightPage:function(){P.rollPage()},closeThisTabs:function(){(parent===self?k:parent.layui.admin).closeThisTabs()},closeOtherTabs:function(e){var i="LAY-system-pagetabs-remove";"all"===e?(d(A+":gt(0)").remove(),d(f).find("."+b+":gt(0)").remove(),d(A).eq(0).trigger("click")):(d(A).each(function(e,a){e&&e!=k.tabsPage.index&&(d(a).addClass(i),k.tabsBody(e).addClass(i))}),d("."+i).remove())},closeAllTabs:function(){P.closeOtherTabs("all")},shade:function(){k.sideFlexible()},im:function(){k.popup({id:"LAY-popup-layim-demo",shade:0,area:["800px","300px"],title:"面板外的操作示例",offset:"lb",success:function(){layui.view(this.id).render("layim/demo").then(function(){layui.use("im")})}})}};(a=layui.data(r.tableName)).theme?k.theme(a.theme):r.theme&&k.initTheme(r.theme.initColorIndex),"pageTabs"in layui.setter||(layui.setter.pageTabs=!0),r.pageTabs||(d("#LAY_app_tabs").addClass("layui-hide"),u.addClass("layadmin-tabspage-none")),n.ie&&n.ie<10&&t.error("IE"+n.ie+"下访问可能不佳，推荐使用：Chrome / Firefox / Edge 等高级浏览器",{offset:"auto",id:"LAY_errorIE"}),i.on("tab("+p+")",function(e){k.tabsPage.index=e.index}),k.on("tabsPage(setMenustatus)",function(e){var r=e.url,o=function(e){return{list:e.children(".layui-nav-child"),a:e.children("*[lay-href]")}},a=d("#LAY-system-side-menu"),u="layui-nav-itemed";a.find("."+y).removeClass(y),k.screen()<2&&k.sideFlexible(),a.children("li").each(function(e,a){var i=d(a),t=o(i),n=t.list.children("dd"),l=r===t.a.attr("lay-href");if(n.each(function(e,a){var i=d(a),t=o(i),n=t.list.children("dd"),l=r===t.a.attr("lay-href");if(n.each(function(e,a){var i=d(a),t=o(i);if(r===t.a.attr("lay-href")){var n=t.list[0]?u:y;return i.addClass(n).siblings().removeClass(n),!1}}),l){var s=t.list[0]?u:y;return i.addClass(s).siblings().removeClass(s),!1}}),l){var s=t.list[0]?u:y;return i.addClass(s).siblings().removeClass(s),!1}})}),i.on("nav(layadmin-system-side-menu)",function(e){e.siblings(".layui-nav-child")[0]&&u.hasClass(C)&&(k.sideFlexible("spread"),layer.close(e.data("index"))),k.tabsPage.type="nav"}),i.on("nav(layadmin-pagetabs-nav)",function(e){var a=e.parent();a.removeClass(y),a.parent().removeClass(c)});var F=function(e){e.attr("lay-id");var a=e.attr("lay-attr"),i=e.index();k.tabsBodyChange(i,{url:a})},A="#LAY_app_tabsheader>li";o.on("click",A,function(){var e=d(this),a=e.index();k.tabsPage.type="tab",k.tabsPage.index=a,F(e)}),i.on("tabDelete("+p+")",function(e){var a=d(A+".layui-this");e.index&&k.tabsBody(e.index).remove(),F(a),k.delResize()}),o.on("click","*[lay-href]",function(){var e=d(this),a=e.attr("lay-href"),i=e.attr("lay-text");layui.router();k.tabsPage.elem=e,(parent===self?layui:top.layui).index.openTabsPage(a,i||e.text())}),o.on("click","*[layadmin-event]",function(){var e=d(this),a=e.attr("layadmin-event");P[a]&&P[a].call(this,e)}),o.on("mouseenter","*[lay-tips]",function(){var e=d(this);if(!e.parent().hasClass("layui-nav-item")||u.hasClass(C)){var a=e.attr("lay-tips"),i=e.attr("lay-offset"),t=e.attr("lay-direction"),n=layer.tips(a,this,{tips:t||1,time:-1,success:function(e,a){i&&e.css("margin-left",i+"px")}});e.data("index",n)}}).on("mouseleave","*[lay-tips]",function(){layer.close(d(this).data("index"))});var z=layui.data.resizeSystem=function(){layer.closeAll("tips"),z.lock||setTimeout(function(){k.sideFlexible(k.screen()<2?"":"spread"),delete z.lock},100),z.lock=!0};l.on("resize",layui.data.resizeSystem),e("admin",k)});